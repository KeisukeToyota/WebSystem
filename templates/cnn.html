{% extends "base.html" %}

{% block extrahead %}
    <style>
        table {
            margin-top: 10px;
        }
    </style>
    <script>
        function saveImg() {
            var img = document.getElementById("can").toDataURL('image/png');
            console.log(img);
            img = img.replace('image/png', 'image/octet-stream');
            document.getElementById("img").value = img;
        }
    </script>
{% endblock %}

{% block body %}
    <div align="center">

    <h3 class="page-header">手書き認識</h3>
    <div style="border:solid 1px #000000;width:410px;height:310px" id="candiv">
        <canvas id="can" width="400px" height="300px"></canvas>
    </div>
    <form action="/cnn/getImage" method="post">
        <input type="button" onClick="clearCan();" value="クリア" style="width:100;height:30;" data-inline="true"/>
        <button type="submit" id="img" name="img" onclick="saveImg()" value="認識" style="width:100;height:30;" data-inline="true"/>認識</button>
    </form>
    <h1>{% if answer %}答えは{{ answer }}だ！！！{% endif %}</h1>
    </div>
{% endblock %}
