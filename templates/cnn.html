{% extends "base.html" %}

{% block extrahead %}
    <style>
        table {
            margin-top: 10px;
        }
    </style>
    <script>
        function saveImg() {
            var img = document.getElementById("can").toDataURL('image/png');
            console.log(img);
            img = img.replace('image/png', 'image/octet-stream');
            document.getElementById("img").value = img;
        }
    </script>
{% endblock %}

{% block body %}
    <div align="center">
    <br>

    <h1 class="page-header">手書き文字認識(0~9)</h1>
    <div style="border:solid 1px #000000;width:285px;height:285px" id="candiv">
        <canvas id="can" width="280px" height="280px"></canvas>
    </div>
    <form action="/cnn/getImage" method="post">
        <button type="button" onClick="clearCan();" value="クリア" style="width:100;height:30;" data-inline="true" class="btn btn-danger btn-md">クリア</button>
        <button type="submit" id="img" name="img" onclick="saveImg()" value="認識" style="width:100;height:30;" data-inline="true" class="btn btn-success btn-md">認識</button>
    </form>
    <h1>{% if answer != None %}答えは<span style="color:red;font-size:7ex;">{{ answer }}</span>だ！！！{% endif %}</h1>
    </div>
{% endblock %}
